# macOS ç½‘ç›˜é¡¹ç›®éƒ¨ç½²æŒ‡å—

## ğŸ ç³»ç»Ÿè¦æ±‚

- macOS 10.15 æˆ–æ›´é«˜ç‰ˆæœ¬
- Xcode Command Line Tools
- Homebrew åŒ…ç®¡ç†å™¨

## ğŸ“¦ ä¾èµ–å®‰è£…

### 1. å®‰è£… Homebrewï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

### 2. å®‰è£…å¿…è¦çš„ä¾èµ–
```bash
# å®‰è£…ç¼–è¯‘å·¥å…·
xcode-select --install

# å®‰è£…é¡¹ç›®ä¾èµ–
brew install sqlite3 openssl readline python3

# å®‰è£…Pythonä¾èµ–
pip3 install flask requests
```

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### æ–¹æ³•ä¸€ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

**å®Œæ•´ç‰ˆå¯åŠ¨**ï¼ˆå¸¦è¯¦ç»†æ—¥å¿—å’Œç›‘æ§ï¼‰
```bash
./start_all_macos.sh
```

**å¿«é€Ÿå¯åŠ¨**ï¼ˆåå°è¿è¡Œï¼‰
```bash
./quick_start.sh
```

**åœæ­¢æ‰€æœ‰æœåŠ¡**
```bash
./stop_all_macos.sh
```

### æ–¹æ³•äºŒï¼šåˆ†åˆ«å¯åŠ¨

1. **å¯åŠ¨æœåŠ¡å™¨**
```bash
./start_server_macos.sh
```

2. **å¯åŠ¨å®¢æˆ·ç«¯**ï¼ˆåœ¨æ–°ç»ˆç«¯çª—å£ä¸­ï¼‰
```bash
./start_client_macos.sh
```

3. **å¯åŠ¨Webç•Œé¢**ï¼ˆå¯é€‰ï¼‰
```bash
cd gui_examples
./start_server_macos.sh
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å¯åŠ¨

1. **ç¼–è¯‘é¡¹ç›®**
```bash
make clean
make
```

2. **å¯åŠ¨æœåŠ¡å™¨**
```bash
cd server
./server
```

3. **å¯åŠ¨å®¢æˆ·ç«¯**ï¼ˆåœ¨æ–°ç»ˆç«¯çª—å£ä¸­ï¼‰
```bash
cd client
./client
```

## ğŸŒ Webç•Œé¢è®¿é—®

### æœ¬åœ°å’Œå±€åŸŸç½‘è®¿é—®
å¯åŠ¨WebæœåŠ¡å™¨åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š
- æœ¬åœ°è®¿é—®ï¼šhttp://localhost:8080
- å±€åŸŸç½‘è®¿é—®ï¼šhttp://[ä½ çš„IP]:8080

### å¤–ç½‘è®¿é—®
æ”¯æŒå¤šç§å¤–ç½‘è®¿é—®æ–¹å¼ï¼š

**ä¸€é”®å¤–ç½‘è®¿é—®ï¼ˆæ¨èï¼‰**
```bash
./start_external_macos.sh
```

**é…ç½®å‘å¯¼**
```bash
./setup_external_access_macos.sh
```

**æ‰‹åŠ¨å¯åŠ¨éš§é“**
```bash
cd gui_examples
./start_external_access.sh
```

è¯¦ç»†é…ç½®è¯·å‚è€ƒï¼š[å¤–ç½‘è®¿é—®é…ç½®æŒ‡å—.md](å¤–ç½‘è®¿é—®é…ç½®æŒ‡å—.md)

## ğŸ“ é¡¹ç›®ç»“æ„

```
linux-netdisk/
â”œâ”€â”€ server/                 # Cè¯­è¨€æœåŠ¡å™¨
â”‚   â”œâ”€â”€ main.c
â”‚   â””â”€â”€ server             # ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ client/                 # Cè¯­è¨€å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ main.c
â”‚   â””â”€â”€ client             # ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ gui_examples/           # Webç•Œé¢
â”‚   â”œâ”€â”€ app.py             # Flask WebæœåŠ¡å™¨
â”‚   â”œâ”€â”€ api/               # APIæ¥å£
â”‚   â””â”€â”€ start_server_macos.sh
â”œâ”€â”€ netdisk_data/          # ç”¨æˆ·æ•°æ®ç›®å½•
â”œâ”€â”€ netdisk.db             # SQLiteæ•°æ®åº“
â”œâ”€â”€ start_all_macos.sh          # ä¸€é”®å¯åŠ¨è„šæœ¬ï¼ˆå®Œæ•´ç‰ˆï¼‰
â”œâ”€â”€ start_external_macos.sh     # ä¸€é”®å¤–ç½‘è®¿é—®è„šæœ¬
â”œâ”€â”€ setup_external_access_macos.sh # å¤–ç½‘è®¿é—®é…ç½®å‘å¯¼
â”œâ”€â”€ quick_start.sh              # å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”œâ”€â”€ stop_all_macos.sh           # åœæ­¢æœåŠ¡è„šæœ¬
â”œâ”€â”€ start_server_macos.sh       # æœåŠ¡å™¨å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start_client_macos.sh       # å®¢æˆ·ç«¯å¯åŠ¨è„šæœ¬
â”œâ”€â”€ å¤–ç½‘è®¿é—®é…ç½®æŒ‡å—.md          # å¤–ç½‘è®¿é—®è¯¦ç»†è¯´æ˜
â””â”€â”€ Makefile                    # ç¼–è¯‘é…ç½®
```

## ğŸ”§ é…ç½®è¯´æ˜

### æœåŠ¡å™¨é…ç½®
- ç«¯å£ï¼š9000ï¼ˆCæœåŠ¡å™¨ï¼‰
- æ•°æ®åº“ï¼šSQLiteï¼ˆnetdisk.dbï¼‰
- æ•°æ®ç›®å½•ï¼šnetdisk_data/

### WebæœåŠ¡å™¨é…ç½®
- ç«¯å£ï¼š8080
- åœ°å€ï¼š0.0.0.0ï¼ˆå…è®¸å±€åŸŸç½‘è®¿é—®ï¼‰

## ğŸ› ï¸ æ•…éšœæ’é™¤

### ç¼–è¯‘é”™è¯¯
1. **æ‰¾ä¸åˆ°å¤´æ–‡ä»¶**
```bash
# ç¡®ä¿å®‰è£…äº†å¿…è¦çš„ä¾èµ–
brew install sqlite3 openssl readline
```

2. **é“¾æ¥é”™è¯¯**
```bash
# é‡æ–°ç¼–è¯‘
make clean
make
```

### è¿è¡Œæ—¶é”™è¯¯
1. **ç«¯å£è¢«å ç”¨**
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :9000
# ç»ˆæ­¢è¿›ç¨‹
kill -9 <PID>
```

2. **æƒé™é”™è¯¯**
```bash
# ç¡®ä¿è„šæœ¬æœ‰æ‰§è¡Œæƒé™
chmod +x start_server_macos.sh
chmod +x start_client_macos.sh
```

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

- âœ… ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
- âœ… æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½
- âœ… ç›®å½•ç®¡ç†ï¼ˆåˆ›å»ºã€åˆ‡æ¢ã€åˆ—è¡¨ï¼‰
- âœ… æ–‡ä»¶åˆ é™¤
- âœ… è¿›åº¦æ¡æ˜¾ç¤º
- âœ… å‘½ä»¤è¡Œè‡ªåŠ¨è¡¥å…¨
- âœ… Webç•Œé¢ç®¡ç†
- âœ… è·¨å¹³å°æ”¯æŒï¼ˆmacOS/Linuxï¼‰

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æ‰€æœ‰ä¾èµ–æ˜¯å¦æ­£ç¡®å®‰è£…
2. ç«¯å£æ˜¯å¦è¢«å ç”¨
3. æ–‡ä»¶æƒé™æ˜¯å¦æ­£ç¡®
4. é˜²ç«å¢™è®¾ç½®æ˜¯å¦å…è®¸ç›¸åº”ç«¯å£

## ğŸ”„ ä»Ubuntuè¿ç§»

å¦‚æœæ‚¨ä¹‹å‰åœ¨Ubuntuä¸Šéƒ¨ç½²è¿‡æ­¤é¡¹ç›®ï¼Œä¸»è¦å˜åŒ–ï¼š
1. æœåŠ¡å™¨IPä» `192.168.50.153` æ”¹ä¸º `127.0.0.1`
2. ä½¿ç”¨macOSä¸“ç”¨çš„å¯åŠ¨è„šæœ¬
3. ä¾èµ–ç®¡ç†ä½¿ç”¨Homebrewè€Œä¸æ˜¯apt
4. å­—èŠ‚åºè½¬æ¢ä½¿ç”¨macOSä¸“ç”¨çš„API
